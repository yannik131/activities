{% extends 'base.html' %}
{% load i18n %}
{% load activity_filter %}
{% load static %}

{% block title %}{{ activity.name }}{% endblock %}

{% block content %}
    {% if activity.image %}
        <img src="{{ activity.image.url }}" width="200px" class="activity-full-image">
    {% endif %}
    <h1 class="center-container">{{ activity.verbose }}</h1>
    <p class="center-container"><i>{{ activity.description }}</i></p>
    {% if activity.category %}
        <h2><a href="{{ activity.category.get_absolute_url }}">{{ activity.category.verbose }}</a></h2>
    {% endif %}
    {% if is_member %}
    {% if activity.type == 'competitive' %}
    <div class="competitive">
        <div class="left" onclick="location.href='{% url 'competitions:overview' activity.id %}'">
            <img src="{% static 'icons/tournament.png' %}">
            {% trans "Offline spielen" %}
        </div>
        {% if activity.online and is_member %}
            <div class="right" onclick="location.href='{% url 'multiplayer:lobby' activity.name %}'">
                <img src="{% static 'icons/dog.png' %}">
                {% trans "Online spielen" %}
            </div>
        {% endif %}
    </div>
    <p style="clear: both;"></p>
    {% endif %}
        <a class="center-container" href="{% url 'activity:leave' activity.name %}"><button class="blue-button">{% trans "Austreten" %}</button></a>
        <h3>{% trans "Suche nach Mitgliedern" %}</h3>
        <p>{% include 'activity/location_selection.html' %}</p>
        {% include 'account/user_loop.html' %}
        <p style="clear: both"></p>
    {% else %}
        <p>
            {% trans "Um Mitglieder anzeigen zu können, müssen Sie beitreten." %}
        </p>
        <a class="center-container" href="{% url 'activity:join' activity.name %}"><button class="blue-button">{% trans "Beitreten" %}</button></a>
    {% endif %}

    <h3>{% trans "Beiträge" %} {{ chosen_component|inim }}</h3>
    <h2><a href="{% url 'wall:create_post' 'activity' 'activity' activity.id activity.id %}">{% blocktrans %}Post erstellen...{% endblocktrans %}</a></h2>
    {% include 'wall/post/post_loop.html' %}
{% endblock %}