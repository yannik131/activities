{% extends 'base.html' %}
{% load i18n %}
{% load activity_filter %}
{% load static %}

{% block title %}{{ activity.name }}{% endblock %}

{% block content %}
    {% if activity.image %}
        <img src="{{ activity.image.url }}" width="200px" class="activity-full-image">
        <div class="center-container img-description">
            <a href="{% if activity.image_source %}{{ activity.image_source }}{% else %}{% url 'activity:no_source' %}{% endif %}">
                [{% trans 'Quelle' %}]
            </a>
        </div>
    {% endif %}
    <h1 class="center-container">{{ activity.verbose }}</h1>
    <p class="center-container"><i>{{ activity.description }}</i></p>
    {% if activity.category %}
        <h2><a href="{{ activity.category.get_absolute_url }}">{{ activity.category.verbose }}</a></h2>
    {% endif %}
    {% if is_member %}
    {% if activity.type == 'competitive' %}
    <div class="competitive">
        <div class="left" onclick="location.href='{% url 'competitions:overview' activity.id %}'">
            <img src="{% static 'icons/tournament.png' %}">
            {% trans "Offline spielen" %}
        </div>
        {% if activity.online and is_member %}
            <div class="right" onclick="location.href='{% url 'multiplayer:lobby' activity.name %}'">
                <img src="{% static 'icons/dog.png' %}">
                {% trans "Online spielen" %}
            </div>
        {% endif %}
    </div>
    <span style="clear: both;"></span>
    {% endif %}
    <div class="button-like" onclick=openLink("{% url 'chat:chat_room' 'activity' 'activity' activity.id %}")>
        <img src="{% static 'icons/chat.png' %}">
        Chat
    </div>
         <p><div class="center-container"><button class="blue-button" onclick=openLink("{% url 'activity:leave' activity.name %}")>{% trans "Austreten" %}</button></div></p>
        <h3>{% trans "Suche nach Mitgliedern" %}</h3>
        <p>{% include 'activity/location_selection.html' %}</p>
        {% include 'account/user_loop.html' %}
        <p style="clear: both"></p>
    {% else %}
        <p>
            {% trans "Um Mitglieder anzeigen zu können, müssen Sie beitreten." %}
        </p>
        <p><div class="center-container"><button class="blue-button" onclick=openLink("{% url 'activity:join' activity.name %}")>{% trans "Beitreten" %}</button></div></p>
    {% endif %}

    <h3>{% trans "Beiträge" %} {{ chosen_component|inim }}</h3>
    <div class="button-like" onclick=openLink("{% url 'wall:create_post' 'activity' 'activity' activity.id activity.id %}")><img src="{% static 'icons/post.png' %}">{% blocktrans %}Post erstellen{% endblocktrans %}</div>
    {% include 'wall/post/post_loop.html' %}
{% endblock %}